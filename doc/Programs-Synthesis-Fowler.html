<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Programs.Synthesis.Fowler</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();setSynopsis("mini_Programs-Synthesis-Fowler.html");};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="src/Programs/Synthesis/Fowler.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">The Quipper System</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr></table><p class="caption">Programs.Synthesis.Fowler</p></div><div id="table-of-contents"><p class="caption">Contents</p><ul><li><a href="#g:1">Overview 
</a></li><li><a href="#g:2">Scalars
</a></li><li><a href="#g:3">Basic matrix operations
</a></li><li><a href="#g:4">Specific matrices
</a></li><li><a href="#g:5">Norms and distance
</a></li><li><a href="#g:6">Representation of {<em>X</em>, <em>H</em>, <em>S</em>, <em>T</em>} circuits
</a></li><li><a href="#g:7">Representation of normal forms
</a></li><li><a href="#g:8">Mapping circuits to unitary matrices
</a></li><li><a href="#g:9">More memory-efficient enumeration
</a></li><li><a href="#g:10">Finding best approximations
</a></li><li><a href="#g:11">Some gates to approximate
</a></li><li><a href="#g:12">User interface
</a></li></ul></div><div id="description"><p class="caption">Description</p><div class="doc"><p>This module implements a variant of Fowler's algorithm for
 optimally approximating any single-qubit gate by Clifford + <em>T</em>
 gates with precision &#948; [Fowler 2010,
 <a href="http://arxiv.org/abs/quant-ph/0411206v2">http://arxiv.org/abs/quant-ph/0411206v2</a>].
</p><p>This is experimental.
</p></div></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><span class="keyword">type</span> <a href="#t:Complexnumber">Complexnumber</a> = <a href="http://hackage.haskell.org/packages/archive/base/4.5.1.0/doc/html/Data-Complex.html#t:Complex">Complex</a> <a href="http://hackage.haskell.org/packages/archive/base/4.5.1.0/doc/html/Prelude.html#t:Double">Double</a></li><li class="src short"><span class="keyword">type</span> <a href="#t:Realnumber">Realnumber</a> = <a href="http://hackage.haskell.org/packages/archive/base/4.5.1.0/doc/html/Prelude.html#t:Double">Double</a></li><li class="src short"><a href="#v:i">i</a> :: <a href="Programs-Synthesis-Fowler.html#t:Complexnumber">Complexnumber</a></li><li class="src short"><a href="#v:s">s</a> :: <a href="Programs-Synthesis-Fowler.html#t:Complexnumber">Complexnumber</a></li><li class="src short"><a href="#v:sqrti">sqrti</a> :: <a href="Programs-Synthesis-Fowler.html#t:Complexnumber">Complexnumber</a></li><li class="src short"><span class="keyword">type</span> <a href="#t:Matrix">Matrix</a> = (<a href="Programs-Synthesis-Fowler.html#t:Complexnumber">Complexnumber</a>, <a href="Programs-Synthesis-Fowler.html#t:Complexnumber">Complexnumber</a>, <a href="Programs-Synthesis-Fowler.html#t:Complexnumber">Complexnumber</a>, <a href="Programs-Synthesis-Fowler.html#t:Complexnumber">Complexnumber</a>)</li><li class="src short"><a href="#v:mult">mult</a> :: <a href="Programs-Synthesis-Fowler.html#t:Matrix">Matrix</a> -&gt; <a href="Programs-Synthesis-Fowler.html#t:Matrix">Matrix</a> -&gt; <a href="Programs-Synthesis-Fowler.html#t:Matrix">Matrix</a></li><li class="src short"><a href="#v:adjoint">adjoint</a> :: <a href="Programs-Synthesis-Fowler.html#t:Matrix">Matrix</a> -&gt; <a href="Programs-Synthesis-Fowler.html#t:Matrix">Matrix</a></li><li class="src short"><a href="#v:trace">trace</a> :: <a href="Programs-Synthesis-Fowler.html#t:Matrix">Matrix</a> -&gt; <a href="Programs-Synthesis-Fowler.html#t:Complexnumber">Complexnumber</a></li><li class="src short"><a href="#v:identity">identity</a> :: <a href="Programs-Synthesis-Fowler.html#t:Matrix">Matrix</a></li><li class="src short"><a href="#v:not_gate">not_gate</a> :: <a href="Programs-Synthesis-Fowler.html#t:Matrix">Matrix</a></li><li class="src short"><a href="#v:hadamard">hadamard</a> :: <a href="Programs-Synthesis-Fowler.html#t:Matrix">Matrix</a></li><li class="src short"><a href="#v:s_gate">s_gate</a> :: <a href="Programs-Synthesis-Fowler.html#t:Matrix">Matrix</a></li><li class="src short"><a href="#v:t_gate">t_gate</a> :: <a href="Programs-Synthesis-Fowler.html#t:Matrix">Matrix</a></li><li class="src short"><a href="#v:s_mult">s_mult</a> :: <a href="Programs-Synthesis-Fowler.html#t:Matrix">Matrix</a> -&gt; <a href="Programs-Synthesis-Fowler.html#t:Matrix">Matrix</a></li><li class="src short"><a href="#v:t_mult">t_mult</a> :: <a href="Programs-Synthesis-Fowler.html#t:Matrix">Matrix</a> -&gt; <a href="Programs-Synthesis-Fowler.html#t:Matrix">Matrix</a></li><li class="src short"><a href="#v:magnitude_squared">magnitude_squared</a> :: <a href="Programs-Synthesis-Fowler.html#t:Complexnumber">Complexnumber</a> -&gt; <a href="Programs-Synthesis-Fowler.html#t:Realnumber">Realnumber</a></li><li class="src short"><a href="#v:fowler_norm">fowler_norm</a> :: <a href="Programs-Synthesis-Fowler.html#t:Matrix">Matrix</a> -&gt; <a href="Programs-Synthesis-Fowler.html#t:Realnumber">Realnumber</a></li><li class="src short"><a href="#v:fowler_metric">fowler_metric</a> :: <a href="Programs-Synthesis-Fowler.html#t:Matrix">Matrix</a> -&gt; <a href="Programs-Synthesis-Fowler.html#t:Realnumber">Realnumber</a></li><li class="src short"><a href="#v:fowler_norm_of_metric">fowler_norm_of_metric</a> :: <a href="Programs-Synthesis-Fowler.html#t:Realnumber">Realnumber</a> -&gt; <a href="Programs-Synthesis-Fowler.html#t:Realnumber">Realnumber</a></li><li class="src short"><a href="#v:euclid_norm">euclid_norm</a> :: <a href="Programs-Synthesis-Fowler.html#t:Matrix">Matrix</a> -&gt; <a href="Programs-Synthesis-Fowler.html#t:Realnumber">Realnumber</a></li><li class="src short"><a href="#v:dist_of_norm">dist_of_norm</a> :: (<a href="Programs-Synthesis-Fowler.html#t:Matrix">Matrix</a> -&gt; <a href="Programs-Synthesis-Fowler.html#t:Realnumber">Realnumber</a>) -&gt; <a href="Programs-Synthesis-Fowler.html#t:Matrix">Matrix</a> -&gt; <a href="Programs-Synthesis-Fowler.html#t:Matrix">Matrix</a> -&gt; <a href="Programs-Synthesis-Fowler.html#t:Realnumber">Realnumber</a></li><li class="src short"><a href="#v:fowler_dist">fowler_dist</a> :: <a href="Programs-Synthesis-Fowler.html#t:Matrix">Matrix</a> -&gt; <a href="Programs-Synthesis-Fowler.html#t:Matrix">Matrix</a> -&gt; <a href="Programs-Synthesis-Fowler.html#t:Realnumber">Realnumber</a></li><li class="src short"><a href="#v:euclid_dist">euclid_dist</a> :: <a href="Programs-Synthesis-Fowler.html#t:Matrix">Matrix</a> -&gt; <a href="Programs-Synthesis-Fowler.html#t:Matrix">Matrix</a> -&gt; <a href="Programs-Synthesis-Fowler.html#t:Realnumber">Realnumber</a></li><li class="src short"><span class="keyword">data</span>  <a href="#t:Gate">Gate</a> <ul class="subs"><li>= <a href="#v:X">X</a>  </li><li>| <a href="#v:H">H</a>  </li><li>| <a href="#v:S">S</a>  </li><li>| <a href="#v:T">T</a>  </li></ul></li><li class="src short"><span class="keyword">data</span>  <a href="#t:Axis">Axis</a> <ul class="subs"><li>= <a href="#v:R_I">R_I</a>  </li><li>| <a href="#v:R_H">R_H</a>  </li><li>| <a href="#v:R_SH">R_SH</a>  </li></ul></li><li class="src short"><span class="keyword">data</span>  <a href="#t:Flip">Flip</a> <ul class="subs"><li>= <a href="#v:F_I">F_I</a>  </li><li>| <a href="#v:F_X">F_X</a>  </li></ul></li><li class="src short"><span class="keyword">data</span>  <a href="#t:Turn">Turn</a> <ul class="subs"><li>= <a href="#v:T_I">T_I</a>  </li><li>| <a href="#v:T_S">T_S</a>  </li><li>| <a href="#v:T_SS">T_SS</a>  </li><li>| <a href="#v:T_SSS">T_SSS</a>  </li></ul></li><li class="src short"><span class="keyword">type</span> <a href="#t:Clifford">Clifford</a> = (<a href="Programs-Synthesis-Fowler.html#t:Axis">Axis</a>, <a href="Programs-Synthesis-Fowler.html#t:Flip">Flip</a>, <a href="Programs-Synthesis-Fowler.html#t:Turn">Turn</a>)</li><li class="src short"><a href="#v:clifford_id">clifford_id</a> :: <a href="Programs-Synthesis-Fowler.html#t:Clifford">Clifford</a></li><li class="src short"><span class="keyword">data</span>  <a href="#t:CAxis">CAxis</a> <ul class="subs"><li>= <a href="#v:N_H">N_H</a>  </li><li>| <a href="#v:N_SH">N_SH</a>  </li></ul></li><li class="src short"><span class="keyword">data</span>  <a href="#t:CliffordT">CliffordT</a> <ul class="subs"><li>= <a href="#v:Clifford">Clifford</a> <a href="Programs-Synthesis-Fowler.html#t:Clifford">Clifford</a>  </li><li>| <a href="#v:AppT">AppT</a> <a href="Programs-Synthesis-Fowler.html#t:CAxis">CAxis</a> <a href="Programs-Synthesis-Fowler.html#t:CliffordT">CliffordT</a>  </li></ul></li><li class="src short"><span class="keyword">data</span>  <a href="#t:NormalForm">NormalForm</a> <ul class="subs"><li>= <a href="#v:NF_T">NF_T</a> <a href="Programs-Synthesis-Fowler.html#t:CliffordT">CliffordT</a>  </li><li>| <a href="#v:NF">NF</a> <a href="Programs-Synthesis-Fowler.html#t:CliffordT">CliffordT</a>  </li></ul></li><li class="src short"><span class="keyword">class</span>  <a href="#t:Gatelist">Gatelist</a> a  <span class="keyword">where</span><ul class="subs"><li><a href="#v:to_gates">to_gates</a> :: a -&gt; &#91;<a href="Programs-Synthesis-Fowler.html#t:Gate">Gate</a>&#93;</li></ul></li><li class="src short"><a href="#v:nf_len">nf_len</a> :: <a href="Programs-Synthesis-Fowler.html#t:NormalForm">NormalForm</a> -&gt; <a href="http://hackage.haskell.org/packages/archive/base/4.5.1.0/doc/html/Data-Int.html#t:Int">Int</a></li><li class="src short"><a href="#v:ct_len">ct_len</a> :: <a href="Programs-Synthesis-Fowler.html#t:CliffordT">CliffordT</a> -&gt; <a href="http://hackage.haskell.org/packages/archive/base/4.5.1.0/doc/html/Data-Int.html#t:Int">Int</a></li><li class="src short"><a href="#v:matrix_of_gate">matrix_of_gate</a> :: <a href="Programs-Synthesis-Fowler.html#t:Gate">Gate</a> -&gt; <a href="Programs-Synthesis-Fowler.html#t:Matrix">Matrix</a></li><li class="src short"><a href="#v:matrix_of_gatelist">matrix_of_gatelist</a> :: &#91;<a href="Programs-Synthesis-Fowler.html#t:Gate">Gate</a>&#93; -&gt; <a href="Programs-Synthesis-Fowler.html#t:Matrix">Matrix</a></li><li class="src short"><a href="#v:to_matrix">to_matrix</a> :: <a href="Programs-Synthesis-Fowler.html#t:Gatelist">Gatelist</a> a =&gt; a -&gt; <a href="Programs-Synthesis-Fowler.html#t:Matrix">Matrix</a></li><li class="src short"><a href="#v:nf_matrix_gen">nf_matrix_gen</a> :: <a href="Programs-Synthesis-Fowler.html#t:Matrix">Matrix</a> -&gt; &#91;(<a href="Programs-Synthesis-Fowler.html#t:NormalForm">NormalForm</a>, <a href="Programs-Synthesis-Fowler.html#t:Matrix">Matrix</a>, <a href="http://hackage.haskell.org/packages/archive/base/4.5.1.0/doc/html/Data-Int.html#t:Int">Int</a>)&#93;</li><li class="src short"><a href="#v:nf_length">nf_length</a> :: <a href="Programs-Synthesis-Fowler.html#t:Matrix">Matrix</a> -&gt; <a href="http://hackage.haskell.org/packages/archive/base/4.5.1.0/doc/html/Data-Int.html#t:Int">Int</a> -&gt; &#91;(<a href="Programs-Synthesis-Fowler.html#t:NormalForm">NormalForm</a>, <a href="Programs-Synthesis-Fowler.html#t:Matrix">Matrix</a>, <a href="http://hackage.haskell.org/packages/archive/base/4.5.1.0/doc/html/Data-Int.html#t:Int">Int</a>)&#93; -&gt; &#91;(<a href="Programs-Synthesis-Fowler.html#t:NormalForm">NormalForm</a>, <a href="Programs-Synthesis-Fowler.html#t:Matrix">Matrix</a>, <a href="http://hackage.haskell.org/packages/archive/base/4.5.1.0/doc/html/Data-Int.html#t:Int">Int</a>)&#93;</li><li class="src short"><a href="#v:approximate">approximate</a> :: (<a href="Programs-Synthesis-Fowler.html#t:Matrix">Matrix</a> -&gt; <a href="Programs-Synthesis-Fowler.html#t:Realnumber">Realnumber</a>) -&gt; <a href="Programs-Synthesis-Fowler.html#t:Matrix">Matrix</a> -&gt; &#91;(<a href="Programs-Synthesis-Fowler.html#t:Matrix">Matrix</a>, <a href="Programs-Synthesis-Fowler.html#t:NormalForm">NormalForm</a>, <a href="http://hackage.haskell.org/packages/archive/base/4.5.1.0/doc/html/Data-Int.html#t:Int">Int</a>, <a href="http://hackage.haskell.org/packages/archive/base/4.5.1.0/doc/html/Data-Int.html#t:Int">Int</a>, <a href="Programs-Synthesis-Fowler.html#t:Realnumber">Realnumber</a>)&#93;</li><li class="src short"><a href="#v:some_gate">some_gate</a> :: <a href="Programs-Synthesis-Fowler.html#t:Matrix">Matrix</a></li><li class="src short"><a href="#v:random_gate">random_gate</a> :: <a href="http://hackage.haskell.org/packages/archive/base/4.5.1.0/doc/html/System-IO.html#t:IO">IO</a> <a href="Programs-Synthesis-Fowler.html#t:Matrix">Matrix</a></li><li class="src short"><a href="#v:zrot_gate">zrot_gate</a> :: <a href="Programs-Synthesis-Fowler.html#t:Realnumber">Realnumber</a> -&gt; <a href="Programs-Synthesis-Fowler.html#t:Matrix">Matrix</a></li><li class="src short"><a href="#v:phase_gate">phase_gate</a> :: <a href="http://hackage.haskell.org/packages/archive/base/4.5.1.0/doc/html/Data-Int.html#t:Int">Int</a> -&gt; <a href="Programs-Synthesis-Fowler.html#t:Matrix">Matrix</a></li><li class="src short"><a href="#v:print_list">print_list</a> ::  (a -&gt; <a href="http://hackage.haskell.org/packages/archive/base/4.5.1.0/doc/html/Data-String.html#t:String">String</a>) -&gt; &#91;a&#93; -&gt; <a href="http://hackage.haskell.org/packages/archive/base/4.5.1.0/doc/html/System-IO.html#t:IO">IO</a> ()</li><li class="src short"><a href="#v:main">main</a> :: <a href="http://hackage.haskell.org/packages/archive/base/4.5.1.0/doc/html/System-IO.html#t:IO">IO</a> ()</li><li class="src short"><a href="#v:parse_args">parse_args</a> :: &#91;<a href="http://hackage.haskell.org/packages/archive/base/4.5.1.0/doc/html/Data-String.html#t:String">String</a>&#93; -&gt; <a href="http://hackage.haskell.org/packages/archive/base/4.5.1.0/doc/html/System-IO.html#t:IO">IO</a> <a href="Programs-Synthesis-Fowler.html#t:Matrix">Matrix</a></li></ul></div><div id="interface"><h1 id="g:1">Overview 
</h1><div class="doc"><p>We use an exhaustive enumeration of all shortest circuits of a
 certain length. We use the result by [Matsumoto and Amano 2008,
 <a href="http://arxiv.org/abs/0806.3834v1">http://arxiv.org/abs/0806.3834v1</a>] (rather than the older Fowler
 method) to avoid duplicate enumeration. By Matsumoto and Amano's
 result, each operator can be uniquely written in the form
</p><pre> BTATATA...TATC,
</pre><p>where:
</p><ul><li> <em>A</em> is <em>H</em> or <em>SH</em>,
</li><li> <em>B</em> is <em>I</em> or <em>H</em> or <em>SH</em>,
</li><li> <em>C</em> is any Clifford gate, or more precisely: <em>C = BDEF</em>,
</li><li> <em>D</em> is <em>I</em> or <em>X</em>,
</li><li> <em>E</em> is <em>I</em> or <em>S</em> or <em>S</em><sup>2</sup> or <em>S</em><sup>3</sup>, and
</li><li> <em>F</em> is a global phase in {1, <em>z</em>, <em>z</em><sup>2</sup>, <em>z</em><sup>3</sup>, <em>z</em><sup>4</sup>, <em>z</em><sup>5</sup>,
 <em>z</em><sup>6</sup>, <em>z</em><sup>7</sup>}, where <em>z</em> = <i>e</i><sup><em>i</em>&#960;/4</sup>.
</li></ul><p>Since a global phase doesn't matter, we only need to consider the
 24 Clifford gates of the form <em>BDE</em>, and this way each operator has
 a unique representation up to global phase.
</p></div><h1 id="g:2">Scalars
</h1><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:Complexnumber" class="def">Complexnumber</a> = <a href="http://hackage.haskell.org/packages/archive/base/4.5.1.0/doc/html/Data-Complex.html#t:Complex">Complex</a> <a href="http://hackage.haskell.org/packages/archive/base/4.5.1.0/doc/html/Prelude.html#t:Double">Double</a><a href="src/Programs/Synthesis/Fowler.html#line-50" class="link">Source</a></p><div class="doc"><p>A type to represent complex numbers.
</p></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:Realnumber" class="def">Realnumber</a> = <a href="http://hackage.haskell.org/packages/archive/base/4.5.1.0/doc/html/Prelude.html#t:Double">Double</a><a href="src/Programs/Synthesis/Fowler.html#line-53" class="link">Source</a></p><div class="doc"><p>A type to represent real numbers.
</p></div></div><div class="top"><p class="src"><a name="v:i" class="def">i</a> :: <a href="Programs-Synthesis-Fowler.html#t:Complexnumber">Complexnumber</a><a href="src/Programs/Synthesis/Fowler.html#line-56" class="link">Source</a></p><div class="doc"><p>The imaginary unit.
</p></div></div><div class="top"><p class="src"><a name="v:s" class="def">s</a> :: <a href="Programs-Synthesis-Fowler.html#t:Complexnumber">Complexnumber</a><a href="src/Programs/Synthesis/Fowler.html#line-60" class="link">Source</a></p><div class="doc"><p>The square root of 2.
</p></div></div><div class="top"><p class="src"><a name="v:sqrti" class="def">sqrti</a> :: <a href="Programs-Synthesis-Fowler.html#t:Complexnumber">Complexnumber</a><a href="src/Programs/Synthesis/Fowler.html#line-64" class="link">Source</a></p><div class="doc"><p>The square root of i.
</p></div></div><h1 id="g:3">Basic matrix operations
</h1><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:Matrix" class="def">Matrix</a> = (<a href="Programs-Synthesis-Fowler.html#t:Complexnumber">Complexnumber</a>, <a href="Programs-Synthesis-Fowler.html#t:Complexnumber">Complexnumber</a>, <a href="Programs-Synthesis-Fowler.html#t:Complexnumber">Complexnumber</a>, <a href="Programs-Synthesis-Fowler.html#t:Complexnumber">Complexnumber</a>)<a href="src/Programs/Synthesis/Fowler.html#line-71" class="link">Source</a></p><div class="doc"><p>The type of 2&#215;2-matrices of complex numbers. The elements are
 listed by rows.
</p></div></div><div class="top"><p class="src"><a name="v:mult" class="def">mult</a> :: <a href="Programs-Synthesis-Fowler.html#t:Matrix">Matrix</a> -&gt; <a href="Programs-Synthesis-Fowler.html#t:Matrix">Matrix</a> -&gt; <a href="Programs-Synthesis-Fowler.html#t:Matrix">Matrix</a><a href="src/Programs/Synthesis/Fowler.html#line-74" class="link">Source</a></p><div class="doc"><p>Multiply two matrices.
</p></div></div><div class="top"><p class="src"><a name="v:adjoint" class="def">adjoint</a> :: <a href="Programs-Synthesis-Fowler.html#t:Matrix">Matrix</a> -&gt; <a href="Programs-Synthesis-Fowler.html#t:Matrix">Matrix</a><a href="src/Programs/Synthesis/Fowler.html#line-83" class="link">Source</a></p><div class="doc"><p>Take the adjoint of a matrix.
</p></div></div><div class="top"><p class="src"><a name="v:trace" class="def">trace</a> :: <a href="Programs-Synthesis-Fowler.html#t:Matrix">Matrix</a> -&gt; <a href="Programs-Synthesis-Fowler.html#t:Complexnumber">Complexnumber</a><a href="src/Programs/Synthesis/Fowler.html#line-91" class="link">Source</a></p><div class="doc"><p>Take the trace of a matrix.
</p></div></div><h1 id="g:4">Specific matrices
</h1><div class="top"><p class="src"><a name="v:identity" class="def">identity</a> :: <a href="Programs-Synthesis-Fowler.html#t:Matrix">Matrix</a><a href="src/Programs/Synthesis/Fowler.html#line-97" class="link">Source</a></p><div class="doc"><p>The identity matrix.
</p></div></div><div class="top"><p class="src"><a name="v:not_gate" class="def">not_gate</a> :: <a href="Programs-Synthesis-Fowler.html#t:Matrix">Matrix</a><a href="src/Programs/Synthesis/Fowler.html#line-101" class="link">Source</a></p><div class="doc"><p>The Pauli <em>X</em> operator (not-gate).
</p></div></div><div class="top"><p class="src"><a name="v:hadamard" class="def">hadamard</a> :: <a href="Programs-Synthesis-Fowler.html#t:Matrix">Matrix</a><a href="src/Programs/Synthesis/Fowler.html#line-105" class="link">Source</a></p><div class="doc"><p>The Hadamard gate <em>H</em>.
</p></div></div><div class="top"><p class="src"><a name="v:s_gate" class="def">s_gate</a> :: <a href="Programs-Synthesis-Fowler.html#t:Matrix">Matrix</a><a href="src/Programs/Synthesis/Fowler.html#line-109" class="link">Source</a></p><div class="doc"><p>The Phase gate <em>S</em>.
</p></div></div><div class="top"><p class="src"><a name="v:t_gate" class="def">t_gate</a> :: <a href="Programs-Synthesis-Fowler.html#t:Matrix">Matrix</a><a href="src/Programs/Synthesis/Fowler.html#line-113" class="link">Source</a></p><div class="doc"><p>The <em>T</em>-gate.    
</p></div></div><div class="top"><p class="src"><a name="v:s_mult" class="def">s_mult</a> :: <a href="Programs-Synthesis-Fowler.html#t:Matrix">Matrix</a> -&gt; <a href="Programs-Synthesis-Fowler.html#t:Matrix">Matrix</a><a href="src/Programs/Synthesis/Fowler.html#line-117" class="link">Source</a></p><div class="doc"><p>Faster version of <code>mult s_gate</code>.
</p></div></div><div class="top"><p class="src"><a name="v:t_mult" class="def">t_mult</a> :: <a href="Programs-Synthesis-Fowler.html#t:Matrix">Matrix</a> -&gt; <a href="Programs-Synthesis-Fowler.html#t:Matrix">Matrix</a><a href="src/Programs/Synthesis/Fowler.html#line-122" class="link">Source</a></p><div class="doc"><p>Faster version of <code>mult t_gate</code>.
</p></div></div><h1 id="g:5">Norms and distance
</h1><div class="top"><p class="src"><a name="v:magnitude_squared" class="def">magnitude_squared</a> :: <a href="Programs-Synthesis-Fowler.html#t:Complexnumber">Complexnumber</a> -&gt; <a href="Programs-Synthesis-Fowler.html#t:Realnumber">Realnumber</a><a href="src/Programs/Synthesis/Fowler.html#line-129" class="link">Source</a></p><div class="doc"><p>Calculate the square of the magnitude of a complex number.
</p></div></div><div class="top"><p class="src"><a name="v:fowler_norm" class="def">fowler_norm</a> :: <a href="Programs-Synthesis-Fowler.html#t:Matrix">Matrix</a> -&gt; <a href="Programs-Synthesis-Fowler.html#t:Realnumber">Realnumber</a><a href="src/Programs/Synthesis/Fowler.html#line-157" class="link">Source</a></p><div class="doc"><p>Calculate the Fowler-norm of a unitary matrix <em>A</em>, defined as
</p><pre> norm(A) = sqrt(1 - |tr A| / n),
</pre><p>where <em>n</em> is the dimension.  Note: this norm is with respect to the
 group structure, i.e., it satisfies norm(<em>I</em>) = 0, and the triangle
 inequality norm(<em>AB</em>) &#8804; norm(<em>A</em>) + norm(<em>B</em>), and norm(<em>A</em>&#8315;&#185;) =
 norm(<em>A</em>). It is invariant under global phase, i.e.,
 norm(<em>A</em>)=norm(<em>kA</em>) if <em>k</em> is a complex unit. It is also invariant
 under basis change.
</p><p>In case <em>n</em>=2, the Fowler norm is actually the same as the operator
 norm (up to a factor of &#8730;2), although this is not mentioned in
 Fowler's paper. More precisely, recall that the operator norm of a
 diagonalizable matrix <em>A</em> is given by the magnitude of the largest
 eigenvalue. For a matrix <em>A</em> and phase <em>k</em>, consider the operator
 norm of <em>kA-I</em>, and minimize this over all possible <em>k</em>. The
 result, for diagonalizable <em>A</em>, is:
</p><pre> min {operator-norm(kA-I) | |k|=1} = sqrt(2 - |tr A|),
</pre><p>which is exactly the same as the Fowler norm multiplied by &#8730;2.
 This is important because presumably the &quot;relevant&quot; notion of
 distance in quantum computing is distance in the operator norm up
 to a global phase.
</p></div></div><div class="top"><p class="src"><a name="v:fowler_metric" class="def">fowler_metric</a> :: <a href="Programs-Synthesis-Fowler.html#t:Matrix">Matrix</a> -&gt; <a href="Programs-Synthesis-Fowler.html#t:Realnumber">Realnumber</a><a href="src/Programs/Synthesis/Fowler.html#line-165" class="link">Source</a></p><div class="doc"><p>Note that minimizing the Fowler-norm is the same as minimizing
 &#8722;|tr <em>A</em>|<sup>2</sup>; the latter requires two fewer square roots to be
 computed. Therefore, we provide this function for efficiency
 reasons.
</p></div></div><div class="top"><p class="src"><a name="v:fowler_norm_of_metric" class="def">fowler_norm_of_metric</a> :: <a href="Programs-Synthesis-Fowler.html#t:Realnumber">Realnumber</a> -&gt; <a href="Programs-Synthesis-Fowler.html#t:Realnumber">Realnumber</a><a href="src/Programs/Synthesis/Fowler.html#line-169" class="link">Source</a></p><div class="doc"><p>Convert the Fowler metric to the Fowler norm.
</p></div></div><div class="top"><p class="src"><a name="v:euclid_norm" class="def">euclid_norm</a> :: <a href="Programs-Synthesis-Fowler.html#t:Matrix">Matrix</a> -&gt; <a href="Programs-Synthesis-Fowler.html#t:Realnumber">Realnumber</a><a href="src/Programs/Synthesis/Fowler.html#line-184" class="link">Source</a></p><div class="doc"><p>Calculate the Euclidean norm of a 2&#215;2 unitary matrix <em>A</em>, modulo
 global phase, defined to be the minimum of |<em>A</em>&#8722;<em>kI</em>|, where <em>k</em> is a
 unit scalar. It can be defined by:
</p><pre> norm(A) = sqrt(2 + tr AA<sup>+</sup> - 2 |tr A|)
</pre><p>Note: this norm is with respect to the group
 structure, i.e., it satisfies norm(<em>I</em>) = 0, and the triangle
 inequality norm(<em>AB</em>) &#8804; norm(<em>A</em>) + norm(<em>B</em>), and norm(<em>A</em>&#8315;&#185;) =
 norm(<em>A</em>). It is invariant under global phase, i.e.,
 norm(<em>A</em>)=norm(<em>kA</em>) if <em>k</em> is a complex unit. It is also invariant
 under basis change.
</p></div></div><div class="top"><p class="src"><a name="v:dist_of_norm" class="def">dist_of_norm</a> :: (<a href="Programs-Synthesis-Fowler.html#t:Matrix">Matrix</a> -&gt; <a href="Programs-Synthesis-Fowler.html#t:Realnumber">Realnumber</a>) -&gt; <a href="Programs-Synthesis-Fowler.html#t:Matrix">Matrix</a> -&gt; <a href="Programs-Synthesis-Fowler.html#t:Matrix">Matrix</a> -&gt; <a href="Programs-Synthesis-Fowler.html#t:Realnumber">Realnumber</a><a href="src/Programs/Synthesis/Fowler.html#line-218" class="link">Source</a></p><div class="doc"><p>Turn a norm into a distance function, defined by
</p><pre> dist(A,B) = norm(A B<sup>+</sup>)
</pre></div></div><div class="top"><p class="src"><a name="v:fowler_dist" class="def">fowler_dist</a> :: <a href="Programs-Synthesis-Fowler.html#t:Matrix">Matrix</a> -&gt; <a href="Programs-Synthesis-Fowler.html#t:Matrix">Matrix</a> -&gt; <a href="Programs-Synthesis-Fowler.html#t:Realnumber">Realnumber</a><a href="src/Programs/Synthesis/Fowler.html#line-223" class="link">Source</a></p><div class="doc"><p>Calculate the Fowler distance.
</p></div></div><div class="top"><p class="src"><a name="v:euclid_dist" class="def">euclid_dist</a> :: <a href="Programs-Synthesis-Fowler.html#t:Matrix">Matrix</a> -&gt; <a href="Programs-Synthesis-Fowler.html#t:Matrix">Matrix</a> -&gt; <a href="Programs-Synthesis-Fowler.html#t:Realnumber">Realnumber</a><a href="src/Programs/Synthesis/Fowler.html#line-227" class="link">Source</a></p><div class="doc"><p>Calculate the Euclidean distance.
</p></div></div><h1 id="g:6">Representation of {<em>X</em>, <em>H</em>, <em>S</em>, <em>T</em>} circuits
</h1><div class="top"><p class="src"><span class="keyword">data</span>  <a name="t:Gate" class="def">Gate</a>  <a href="src/Programs/Synthesis/Fowler.html#line-233" class="link">Source</a></p><div class="doc"><p>A type to represent symbolic basis gates (X, H, S, T).
</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:X" class="def">X</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:H" class="def">H</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:S" class="def">S</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:T" class="def">T</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><p id="control.i:Gate" class="caption collapser" onclick="toggleSection('i:Gate')">Instances</p><div id="section.i:Gate" class="show"><table><tr><td class="src"><a href="http://hackage.haskell.org/packages/archive/base/4.5.1.0/doc/html/Text-Show.html#t:Show">Show</a> <a href="Programs-Synthesis-Fowler.html#t:Gate">Gate</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Programs-Synthesis-Fowler.html#t:Gatelist">Gatelist</a> <a href="Programs-Synthesis-Fowler.html#t:Gate">Gate</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><h1 id="g:7">Representation of normal forms
</h1><div class="top"><p class="src"><span class="keyword">data</span>  <a name="t:Axis" class="def">Axis</a>  <a href="src/Programs/Synthesis/Fowler.html#line-239" class="link">Source</a></p><div class="doc"><p>An axis: <em>I</em>, <em>H</em>, or <em>SH</em>. 
</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:R_I" class="def">R_I</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:R_H" class="def">R_H</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:R_SH" class="def">R_SH</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><p id="control.i:Axis" class="caption collapser" onclick="toggleSection('i:Axis')">Instances</p><div id="section.i:Axis" class="show"><table><tr><td class="src"><a href="Programs-Synthesis-Fowler.html#t:Gatelist">Gatelist</a> <a href="Programs-Synthesis-Fowler.html#t:Axis">Axis</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">data</span>  <a name="t:Flip" class="def">Flip</a>  <a href="src/Programs/Synthesis/Fowler.html#line-242" class="link">Source</a></p><div class="doc"><p>A flip: <em>I</em> or <em>X</em>.
</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:F_I" class="def">F_I</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:F_X" class="def">F_X</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><p id="control.i:Flip" class="caption collapser" onclick="toggleSection('i:Flip')">Instances</p><div id="section.i:Flip" class="show"><table><tr><td class="src"><a href="Programs-Synthesis-Fowler.html#t:Gatelist">Gatelist</a> <a href="Programs-Synthesis-Fowler.html#t:Flip">Flip</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">data</span>  <a name="t:Turn" class="def">Turn</a>  <a href="src/Programs/Synthesis/Fowler.html#line-245" class="link">Source</a></p><div class="doc"><p>A turn: <em>I</em>, <em>S</em>, <em>SS</em>, <em>SSS</em>.
</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:T_I" class="def">T_I</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:T_S" class="def">T_S</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:T_SS" class="def">T_SS</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:T_SSS" class="def">T_SSS</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><p id="control.i:Turn" class="caption collapser" onclick="toggleSection('i:Turn')">Instances</p><div id="section.i:Turn" class="show"><table><tr><td class="src"><a href="Programs-Synthesis-Fowler.html#t:Gatelist">Gatelist</a> <a href="Programs-Synthesis-Fowler.html#t:Turn">Turn</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:Clifford" class="def">Clifford</a> = (<a href="Programs-Synthesis-Fowler.html#t:Axis">Axis</a>, <a href="Programs-Synthesis-Fowler.html#t:Flip">Flip</a>, <a href="Programs-Synthesis-Fowler.html#t:Turn">Turn</a>)<a href="src/Programs/Synthesis/Fowler.html#line-249" class="link">Source</a></p><div class="doc"><p>Each of the 24 Clifford gates (modulo global phase) can be
 uniquely specified as a turn followed by a flip and an axis. 
</p></div></div><div class="top"><p class="src"><a name="v:clifford_id" class="def">clifford_id</a> :: <a href="Programs-Synthesis-Fowler.html#t:Clifford">Clifford</a><a href="src/Programs/Synthesis/Fowler.html#line-252" class="link">Source</a></p><div class="doc"><p>The identity Clifford gate.
</p></div></div><div class="top"><p class="src"><span class="keyword">data</span>  <a name="t:CAxis" class="def">CAxis</a>  <a href="src/Programs/Synthesis/Fowler.html#line-256" class="link">Source</a></p><div class="doc"><p>An axis change: <em>H</em> or <em>SH</em>.
</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:N_H" class="def">N_H</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:N_SH" class="def">N_SH</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><p id="control.i:CAxis" class="caption collapser" onclick="toggleSection('i:CAxis')">Instances</p><div id="section.i:CAxis" class="show"><table><tr><td class="src"><a href="Programs-Synthesis-Fowler.html#t:Gatelist">Gatelist</a> <a href="Programs-Synthesis-Fowler.html#t:CAxis">CAxis</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">data</span>  <a name="t:CliffordT" class="def">CliffordT</a>  <a href="src/Programs/Synthesis/Fowler.html#line-261" class="link">Source</a></p><div class="doc"><p>An element of the Clifford + <em>T</em> group whose normal form does not
 end in <em>T</em>. It consists of a clifford circuit, followed by 0 or more
 gates of the form <em>HT</em> or <em>SHT</em>.
</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:Clifford" class="def">Clifford</a> <a href="Programs-Synthesis-Fowler.html#t:Clifford">Clifford</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:AppT" class="def">AppT</a> <a href="Programs-Synthesis-Fowler.html#t:CAxis">CAxis</a> <a href="Programs-Synthesis-Fowler.html#t:CliffordT">CliffordT</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><p id="control.i:CliffordT" class="caption collapser" onclick="toggleSection('i:CliffordT')">Instances</p><div id="section.i:CliffordT" class="show"><table><tr><td class="src"><a href="Programs-Synthesis-Fowler.html#t:Gatelist">Gatelist</a> <a href="Programs-Synthesis-Fowler.html#t:CliffordT">CliffordT</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">data</span>  <a name="t:NormalForm" class="def">NormalForm</a>  <a href="src/Programs/Synthesis/Fowler.html#line-265" class="link">Source</a></p><div class="doc"><p>An element of the Clifford + <em>T</em> group in normal form. This
 consists of a <code><a href="Programs-Synthesis-Fowler.html#t:CliffordT">CliffordT</a></code>, followed by an optional <em>T</em>.
</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:NF_T" class="def">NF_T</a> <a href="Programs-Synthesis-Fowler.html#t:CliffordT">CliffordT</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:NF" class="def">NF</a> <a href="Programs-Synthesis-Fowler.html#t:CliffordT">CliffordT</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><p id="control.i:NormalForm" class="caption collapser" onclick="toggleSection('i:NormalForm')">Instances</p><div id="section.i:NormalForm" class="show"><table><tr><td class="src"><a href="http://hackage.haskell.org/packages/archive/base/4.5.1.0/doc/html/Text-Show.html#t:Show">Show</a> <a href="Programs-Synthesis-Fowler.html#t:NormalForm">NormalForm</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Programs-Synthesis-Fowler.html#t:Gatelist">Gatelist</a> <a href="Programs-Synthesis-Fowler.html#t:NormalForm">NormalForm</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">class</span>  <a name="t:Gatelist" class="def">Gatelist</a> a  <span class="keyword">where</span><a href="src/Programs/Synthesis/Fowler.html#line-268" class="link">Source</a></p><div class="doc"><p>Class of things that can be converted to a gate list.
</p></div><div class="subs methods"><p class="caption">Methods</p><p class="src"><a name="v:to_gates" class="def">to_gates</a> :: a -&gt; &#91;<a href="Programs-Synthesis-Fowler.html#t:Gate">Gate</a>&#93;<a href="src/Programs/Synthesis/Fowler.html#line-268" class="link">Source</a></p></div><div class="subs instances"><p id="control.i:Gatelist" class="caption collapser" onclick="toggleSection('i:Gatelist')">Instances</p><div id="section.i:Gatelist" class="show"><table><tr><td class="src"><a href="Programs-Synthesis-Fowler.html#t:Gatelist">Gatelist</a> <a href="Programs-Synthesis-Fowler.html#t:NormalForm">NormalForm</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Programs-Synthesis-Fowler.html#t:Gatelist">Gatelist</a> <a href="Programs-Synthesis-Fowler.html#t:CliffordT">CliffordT</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Programs-Synthesis-Fowler.html#t:Gatelist">Gatelist</a> <a href="Programs-Synthesis-Fowler.html#t:CAxis">CAxis</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Programs-Synthesis-Fowler.html#t:Gatelist">Gatelist</a> <a href="Programs-Synthesis-Fowler.html#t:Turn">Turn</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Programs-Synthesis-Fowler.html#t:Gatelist">Gatelist</a> <a href="Programs-Synthesis-Fowler.html#t:Flip">Flip</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Programs-Synthesis-Fowler.html#t:Gatelist">Gatelist</a> <a href="Programs-Synthesis-Fowler.html#t:Axis">Axis</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Programs-Synthesis-Fowler.html#t:Gatelist">Gatelist</a> <a href="Programs-Synthesis-Fowler.html#t:Gate">Gate</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><a name="v:nf_len" class="def">nf_len</a> :: <a href="Programs-Synthesis-Fowler.html#t:NormalForm">NormalForm</a> -&gt; <a href="http://hackage.haskell.org/packages/archive/base/4.5.1.0/doc/html/Data-Int.html#t:Int">Int</a><a href="src/Programs/Synthesis/Fowler.html#line-305" class="link">Source</a></p><div class="doc"><p>Compute the length of a normal form.
</p></div></div><div class="top"><p class="src"><a name="v:ct_len" class="def">ct_len</a> :: <a href="Programs-Synthesis-Fowler.html#t:CliffordT">CliffordT</a> -&gt; <a href="http://hackage.haskell.org/packages/archive/base/4.5.1.0/doc/html/Data-Int.html#t:Int">Int</a><a href="src/Programs/Synthesis/Fowler.html#line-310" class="link">Source</a></p><div class="doc"><p>Compute the length of a normal form not ending in <em>T</em>.
</p></div></div><h1 id="g:8">Mapping circuits to unitary matrices
</h1><div class="top"><p class="src"><a name="v:matrix_of_gate" class="def">matrix_of_gate</a> :: <a href="Programs-Synthesis-Fowler.html#t:Gate">Gate</a> -&gt; <a href="Programs-Synthesis-Fowler.html#t:Matrix">Matrix</a><a href="src/Programs/Synthesis/Fowler.html#line-318" class="link">Source</a></p><div class="doc"><p>Assign a unitary matrix to a gate.
</p></div></div><div class="top"><p class="src"><a name="v:matrix_of_gatelist" class="def">matrix_of_gatelist</a> :: &#91;<a href="Programs-Synthesis-Fowler.html#t:Gate">Gate</a>&#93; -&gt; <a href="Programs-Synthesis-Fowler.html#t:Matrix">Matrix</a><a href="src/Programs/Synthesis/Fowler.html#line-325" class="link">Source</a></p><div class="doc"><p>Assign a unitary matrix to a gate list.
</p></div></div><div class="top"><p class="src"><a name="v:to_matrix" class="def">to_matrix</a> :: <a href="Programs-Synthesis-Fowler.html#t:Gatelist">Gatelist</a> a =&gt; a -&gt; <a href="Programs-Synthesis-Fowler.html#t:Matrix">Matrix</a><a href="src/Programs/Synthesis/Fowler.html#line-331" class="link">Source</a></p><div class="doc"><p>Convert a circuit representation to a matrix
</p></div></div><h1 id="g:9">More memory-efficient enumeration
</h1><div class="top"><p class="src"><a name="v:nf_matrix_gen" class="def">nf_matrix_gen</a> :: <a href="Programs-Synthesis-Fowler.html#t:Matrix">Matrix</a> -&gt; &#91;(<a href="Programs-Synthesis-Fowler.html#t:NormalForm">NormalForm</a>, <a href="Programs-Synthesis-Fowler.html#t:Matrix">Matrix</a>, <a href="http://hackage.haskell.org/packages/archive/base/4.5.1.0/doc/html/Data-Int.html#t:Int">Int</a>)&#93;<a href="src/Programs/Synthesis/Fowler.html#line-342" class="link">Source</a></p><div class="doc"><p>Uniquely enumerate all normal forms. Return an infinite list of
 triples (<em>nf</em>, <em>m</em>, <em>n</em>), where <em>nf</em> is a normal form, <em>m</em> is the
 product of the normal form's matrix and <em>m0</em>, and <em>n</em> is the size
 of the normal form. The list is ordered by increasing <em>n</em>. We use
 an iterated depth-first enumeration with logarithmic memory usage.
</p></div></div><div class="top"><p class="src"><a name="v:nf_length" class="def">nf_length</a> :: <a href="Programs-Synthesis-Fowler.html#t:Matrix">Matrix</a> -&gt; <a href="http://hackage.haskell.org/packages/archive/base/4.5.1.0/doc/html/Data-Int.html#t:Int">Int</a> -&gt; &#91;(<a href="Programs-Synthesis-Fowler.html#t:NormalForm">NormalForm</a>, <a href="Programs-Synthesis-Fowler.html#t:Matrix">Matrix</a>, <a href="http://hackage.haskell.org/packages/archive/base/4.5.1.0/doc/html/Data-Int.html#t:Int">Int</a>)&#93; -&gt; &#91;(<a href="Programs-Synthesis-Fowler.html#t:NormalForm">NormalForm</a>, <a href="Programs-Synthesis-Fowler.html#t:Matrix">Matrix</a>, <a href="http://hackage.haskell.org/packages/archive/base/4.5.1.0/doc/html/Data-Int.html#t:Int">Int</a>)&#93;<a href="src/Programs/Synthesis/Fowler.html#line-349" class="link">Source</a></p><div class="doc"><p>Enumerate all normal forms of size <em>len</em>, followed by <em>tail</em>.
 This function is productive, i.e., the resulting list is lazy with
 no storage.
</p></div></div><h1 id="g:10">Finding best approximations
</h1><div class="top"><p class="src"><a name="v:approximate" class="def">approximate</a> :: (<a href="Programs-Synthesis-Fowler.html#t:Matrix">Matrix</a> -&gt; <a href="Programs-Synthesis-Fowler.html#t:Realnumber">Realnumber</a>) -&gt; <a href="Programs-Synthesis-Fowler.html#t:Matrix">Matrix</a> -&gt; &#91;(<a href="Programs-Synthesis-Fowler.html#t:Matrix">Matrix</a>, <a href="Programs-Synthesis-Fowler.html#t:NormalForm">NormalForm</a>, <a href="http://hackage.haskell.org/packages/archive/base/4.5.1.0/doc/html/Data-Int.html#t:Int">Int</a>, <a href="http://hackage.haskell.org/packages/archive/base/4.5.1.0/doc/html/Data-Int.html#t:Int">Int</a>, <a href="Programs-Synthesis-Fowler.html#t:Realnumber">Realnumber</a>)&#93;<a href="src/Programs/Synthesis/Fowler.html#line-380" class="link">Source</a></p><div class="doc"><p>Given a norm and a matrix, find the successively best
 approximation for each length. Return an infinite list of
 quadruples (<em>m</em>, <em>nf</em>, <em>len</em>, <em>n</em>, &#948;). Here <em>nf</em> is the normal
 form, <em>m</em> is its matrix, <em>len</em> is the actual length of the normal
 form, <em>n</em> is the length for which the normal form is optimal, and &#948;
 is the distance.
</p></div></div><h1 id="g:11">Some gates to approximate
</h1><div class="top"><p class="src"><a name="v:some_gate" class="def">some_gate</a> :: <a href="Programs-Synthesis-Fowler.html#t:Matrix">Matrix</a><a href="src/Programs/Synthesis/Fowler.html#line-396" class="link">Source</a></p><div class="doc"><p>Some arbitrary unitary matrix for testing.         
</p></div></div><div class="top"><p class="src"><a name="v:random_gate" class="def">random_gate</a> :: <a href="http://hackage.haskell.org/packages/archive/base/4.5.1.0/doc/html/System-IO.html#t:IO">IO</a> <a href="Programs-Synthesis-Fowler.html#t:Matrix">Matrix</a><a href="src/Programs/Synthesis/Fowler.html#line-405" class="link">Source</a></p><div class="doc"><p>Return a random unitary matrix (Haar measure).
</p></div></div><div class="top"><p class="src"><a name="v:zrot_gate" class="def">zrot_gate</a> :: <a href="Programs-Synthesis-Fowler.html#t:Realnumber">Realnumber</a> -&gt; <a href="Programs-Synthesis-Fowler.html#t:Matrix">Matrix</a><a href="src/Programs/Synthesis/Fowler.html#line-415" class="link">Source</a></p><div class="doc"><p>Return a <em>Z</em>-rotation by angle alpha.    
</p></div></div><div class="top"><p class="src"><a name="v:phase_gate" class="def">phase_gate</a> :: <a href="http://hackage.haskell.org/packages/archive/base/4.5.1.0/doc/html/Data-Int.html#t:Int">Int</a> -&gt; <a href="Programs-Synthesis-Fowler.html#t:Matrix">Matrix</a><a href="src/Programs/Synthesis/Fowler.html#line-420" class="link">Source</a></p><div class="doc"><p>Return a phase rotation gate with phase <i>e</i><sup><em>i</em>&#960; / 2<sup><em>d</em></sup></sup>.
</p></div></div><h1 id="g:12">User interface
</h1><div class="top"><p class="src"><a name="v:print_list" class="def">print_list</a> ::  (a -&gt; <a href="http://hackage.haskell.org/packages/archive/base/4.5.1.0/doc/html/Data-String.html#t:String">String</a>) -&gt; &#91;a&#93; -&gt; <a href="http://hackage.haskell.org/packages/archive/base/4.5.1.0/doc/html/System-IO.html#t:IO">IO</a> ()<a href="src/Programs/Synthesis/Fowler.html#line-428" class="link">Source</a></p><div class="doc"><p>A convenience function for printing a list, one element per line.
</p></div></div><div class="top"><p class="src"><a name="v:main" class="def">main</a> :: <a href="http://hackage.haskell.org/packages/archive/base/4.5.1.0/doc/html/System-IO.html#t:IO">IO</a> ()<a href="src/Programs/Synthesis/Fowler.html#line-437" class="link">Source</a></p><div class="doc"><p>The main function.
</p></div></div><div class="top"><p class="src"><a name="v:parse_args" class="def">parse_args</a> :: &#91;<a href="http://hackage.haskell.org/packages/archive/base/4.5.1.0/doc/html/Data-String.html#t:String">String</a>&#93; -&gt; <a href="http://hackage.haskell.org/packages/archive/base/4.5.1.0/doc/html/System-IO.html#t:IO">IO</a> <a href="Programs-Synthesis-Fowler.html#t:Matrix">Matrix</a><a href="src/Programs/Synthesis/Fowler.html#line-457" class="link">Source</a></p><div class="doc"><p>Parse the command line arguments. Possible arguments are:
</p><ul><li> <code>random_gate</code> - approximate a random gate.
</li><li> <code>zrot_gate <a href="double">double</a></code> - approximate a <em>Z</em>-rotation by angle alpha.  
</li><li> <code>phase_gate <a href="int">int</a></code> - approximate a <em>Z</em>-rotation gate with angle
 <i>e</i><sup><em>i</em>&#960; / 2<sup><em>d</em></sup></sup>.
</li></ul></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.11.0</p></div></body></html>
