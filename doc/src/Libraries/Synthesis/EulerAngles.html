<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<html>
<head>
<!-- Generated by HsColour, http://code.haskell.org/~malcolm/hscolour/ -->
<title>Haskell code</title>
</head>
<body>
<pre><a name="line-1"></a><font color=Blue><i>-- | This module provides functions for converting between matrices in</i></font>
<a name="line-2"></a><font color=Blue><i>-- /U/(2) and their Euler angle representation.</i></font>
<a name="line-3"></a>
<a name="line-4"></a><font color=Green><u>module</u></font> Libraries<font color=Cyan>.</font>Synthesis<font color=Cyan>.</font>EulerAngles <font color=Green><u>where</u></font>
<a name="line-5"></a>
<a name="line-6"></a><font color=Green><u>import</u></font> Libraries<font color=Cyan>.</font>Synthesis<font color=Cyan>.</font>Ring
<a name="line-7"></a><font color=Green><u>import</u></font> Libraries<font color=Cyan>.</font>Synthesis<font color=Cyan>.</font>Matrix
<a name="line-8"></a><font color=Green><u>import</u></font> Libraries<font color=Cyan>.</font>Synthesis<font color=Cyan>.</font>ArcTan2
<a name="line-9"></a>
<a name="line-10"></a><font color=Blue><i>-- ----------------------------------------------------------------------</i></font>
<a name="line-11"></a><font color=Blue><i>-- * Documentation</i></font>
<a name="line-12"></a>
<a name="line-13"></a><a name="euler_angles"></a><font color=Blue><i>-- | Decompose a unitary operator /U/ into Euler angles (&#945;, &#946;, &#947;, &#948;).</i></font>
<a name="line-14"></a><font color=Blue><i>-- These angles are computed so that</i></font>
<a name="line-15"></a><font color=Blue><i>-- </i></font>
<a name="line-16"></a><font color=Blue><i>-- * /U/ = [exp /i/&#945;] R[sub /z/](&#946;) R[sub /x/](&#947;) R[sub /z/](&#948;).</i></font>
<a name="line-17"></a><font color=Blue>euler_angles</font> <font color=Red>::</font> <font color=Cyan>(</font>Floating a<font color=Cyan>,</font> ArcTan2 a<font color=Cyan>)</font> <font color=Red>=&gt;</font> Matrix Two Two <font color=Cyan>(</font>Cplx a<font color=Cyan>)</font> <font color=Red>-&gt;</font> <font color=Cyan>(</font>a<font color=Cyan>,</font> a<font color=Cyan>,</font> a<font color=Cyan>,</font> a<font color=Cyan>)</font>
<a name="line-18"></a><font color=Blue>euler_angles</font> op <font color=Red>=</font> <font color=Cyan>(</font>alpha<font color=Cyan>,</font> beta<font color=Cyan>,</font> gamma<font color=Cyan>,</font> delta<font color=Cyan>)</font> <font color=Green><u>where</u></font>
<a name="line-19"></a>  <font color=Cyan>(</font><font color=Cyan>(</font>a<font color=Cyan>,</font> b<font color=Cyan>)</font><font color=Cyan>,</font> <font color=Cyan>(</font>c<font color=Cyan>,</font> d<font color=Cyan>)</font><font color=Cyan>)</font> <font color=Red>=</font> from_matrix2x2 op
<a name="line-20"></a>  beta_plus_delta_over_2 <font color=Red>=</font> phase d <font color=Blue><i>-</i></font> alpha
<a name="line-21"></a>  beta_minus_delta_over_2 <font color=Red>=</font> phase c <font color=Blue><i>-</i></font> alpha <font color=Cyan>+</font> pi<font color=Cyan>/</font><font color=Magenta>2</font>
<a name="line-22"></a>  alpha <font color=Red>=</font> phase <font color=Cyan>(</font>a<font color=Cyan>*</font>d <font color=Blue><i>-</i></font> b<font color=Cyan>*</font>c<font color=Cyan>)</font> <font color=Cyan>/</font> <font color=Magenta>2</font>
<a name="line-23"></a>  gamma <font color=Red>=</font> <font color=Magenta>2</font> <font color=Cyan>*</font> arctan2 <font color=Cyan>(</font>mag b<font color=Cyan>)</font> <font color=Cyan>(</font>mag a<font color=Cyan>)</font>
<a name="line-24"></a>  delta <font color=Red>=</font> phase <font color=Cyan>(</font>b <font color=Cyan>*</font> d <font color=Cyan>*</font> i <font color=Cyan>*</font> adj <font color=Cyan>(</font>a<font color=Cyan>*</font>d <font color=Blue><i>-</i></font> b<font color=Cyan>*</font>c<font color=Cyan>)</font><font color=Cyan>)</font>
<a name="line-25"></a>  beta <font color=Red>=</font> <font color=Magenta>2</font> <font color=Cyan>*</font> phase <font color=Cyan>(</font>d <font color=Cyan>*</font> cis <font color=Cyan>(</font><font color=Blue><i>-</i></font>alpha <font color=Blue><i>-</i></font> delta<font color=Cyan>/</font><font color=Magenta>2</font><font color=Cyan>)</font> <font color=Cyan>+</font> c <font color=Cyan>*</font> cis <font color=Cyan>(</font><font color=Blue><i>-</i></font>alpha<font color=Cyan>+</font>delta<font color=Cyan>/</font><font color=Magenta>2</font><font color=Cyan>)</font> <font color=Cyan>*</font> i<font color=Cyan>)</font>
<a name="line-26"></a>
<a name="line-27"></a>  mag <font color=Cyan>(</font>Cplx a b<font color=Cyan>)</font> <font color=Red>=</font> sqrt <font color=Cyan>(</font>a<font color=Cyan>^</font><font color=Magenta>2</font> <font color=Cyan>+</font> b<font color=Cyan>^</font><font color=Magenta>2</font><font color=Cyan>)</font>
<a name="line-28"></a>  phase <font color=Cyan>(</font>Cplx a b<font color=Cyan>)</font> <font color=Red>=</font> arctan2 b a
<a name="line-29"></a>
<a name="line-30"></a>  cis x <font color=Red>=</font> Cplx <font color=Cyan>(</font>cos x<font color=Cyan>)</font> <font color=Cyan>(</font>sin x<font color=Cyan>)</font>
<a name="line-31"></a>
<a name="line-32"></a>  adj <font color=Cyan>(</font>Cplx x y<font color=Cyan>)</font> <font color=Red>=</font> Cplx x <font color=Cyan>(</font><font color=Blue><i>-</i></font>y<font color=Cyan>)</font>
<a name="line-33"></a>
<a name="line-34"></a><a name="matrix_of_euler_angles"></a><font color=Blue><i>-- | Compute the operator</i></font>
<a name="line-35"></a><font color=Blue><i>-- </i></font>
<a name="line-36"></a><font color=Blue><i>-- * /U/ = [exp /i/&#945;] R[sub /z/](&#946;) R[sub /x/](&#947;) R[sub /z/](&#948;).</i></font>
<a name="line-37"></a><font color=Blue><i>-- </i></font>
<a name="line-38"></a><font color=Blue><i>-- from the given Euler angles.</i></font>
<a name="line-39"></a><font color=Blue>matrix_of_euler_angles</font> <font color=Red>::</font> <font color=Cyan>(</font>Floating a<font color=Cyan>)</font> <font color=Red>=&gt;</font> <font color=Cyan>(</font>a<font color=Cyan>,</font> a<font color=Cyan>,</font> a<font color=Cyan>,</font> a<font color=Cyan>)</font> <font color=Red>-&gt;</font> Matrix Two Two <font color=Cyan>(</font>Cplx a<font color=Cyan>)</font>  
<a name="line-40"></a><font color=Blue>matrix_of_euler_angles</font> <font color=Cyan>(</font>alpha<font color=Cyan>,</font> beta<font color=Cyan>,</font> gamma<font color=Cyan>,</font> delta<font color=Cyan>)</font> <font color=Red>=</font> op <font color=Green><u>where</u></font>
<a name="line-41"></a>  op <font color=Red>=</font> opa <font color=Cyan>*</font> opb <font color=Cyan>*</font> opc <font color=Cyan>*</font> opd
<a name="line-42"></a>  opa <font color=Red>=</font> cplx_cis alpha <font color=Cyan>`scalarmult`</font> <font color=Magenta>1</font>
<a name="line-43"></a>  opb <font color=Red>=</font> zrot beta
<a name="line-44"></a>  opc <font color=Red>=</font> hadamard <font color=Cyan>*</font> zrot gamma <font color=Cyan>*</font> hadamard
<a name="line-45"></a>  opd <font color=Red>=</font> zrot delta
<a name="line-46"></a>  
<a name="line-47"></a>  cplx_cis theta <font color=Red>=</font> Cplx <font color=Cyan>(</font>cos theta<font color=Cyan>)</font> <font color=Cyan>(</font>sin theta<font color=Cyan>)</font>
<a name="line-48"></a>  hadamard <font color=Red>=</font> Cplx <font color=Cyan>(</font>sqrt <font color=Magenta>0.5</font><font color=Cyan>)</font> <font color=Magenta>0</font> <font color=Cyan>`scalarmult`</font> matrix2x2 <font color=Cyan>(</font><font color=Magenta>1</font><font color=Cyan>,</font> <font color=Magenta>1</font><font color=Cyan>)</font> <font color=Cyan>(</font><font color=Magenta>1</font><font color=Cyan>,</font> <font color=Blue><i>-</i></font><font color=Magenta>1</font><font color=Cyan>)</font>
<a name="line-49"></a>  zrot gamma <font color=Red>=</font> matrix2x2 <font color=Cyan>(</font>cplx_cis <font color=Cyan>(</font><font color=Blue><i>-</i></font>gamma<font color=Cyan>/</font><font color=Magenta>2</font><font color=Cyan>)</font><font color=Cyan>,</font> <font color=Magenta>0</font><font color=Cyan>)</font> <font color=Cyan>(</font><font color=Magenta>0</font><font color=Cyan>,</font> cplx_cis <font color=Cyan>(</font>gamma<font color=Cyan>/</font><font color=Magenta>2</font><font color=Cyan>)</font><font color=Cyan>)</font>
<a name="line-50"></a>
<a name="line-51"></a>  
</pre>
</body>
</html>